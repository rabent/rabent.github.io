---
title: "C++에서 배우는 자바-열거형과 애너테이션"
layout: post
date: 2024-04-09 16:55
tag:
- JAVA
description: 자바의 열거형, 애너테이션
---  

# 열거형  
C++에서 주로 방향 등을 나타낼 때 쓰곤 했던 enum이다. 거의 쓰지 않은 기능이라 잘 몰라서 그런진 몰라도 java의 enum은 C++의 그것과 달리 여러 기능이 추가되면서 더 강력하고 더 복잡해진 느낌이다. 하나씩 알아보도록 하자.  

# 열거형의 정의와 사용  
기본적인 사용법 자체는 크게 다르지 않다.  
{% highlight java %}
enum Direction={East, South, North, West}
enum Card={Clover, Spade}
{% endhighlight %}  
위와 같이 정의하고 사용할 때엔 Direction.East와 같이 사용한다. 각각 기본값으로 0부터 시작하여 순서대로 0,1,2,3을 가지게 되고, C++과는 달리 type-safe하기 때문에 서로 **타입이 다르면 같은 값을 가져도 비교할 수 없다.**  
예를 들어 if(Direction.East==Card.Clover) 와 같이 작성하면 C++에선 값이 같기 때문에 True를 도출하였지만, java에서는 타입이 다르기에 컴파일 에러를 도출한다.  

# 열거형의 이해  
사실 java에서 열거형은 **간소화된 클래스**라고 봐도 무방하다.  
위의 East, South 등은 각각이 하나의 Direction 객체이고, 따라서 Direction 내부에 추상 메서드를 추가해준다면 각 객체가 모두 추상 메서드를 구현해 주어야한다.  
이에 대해 인지하고서 열거형 상수의 값을 변경하고, 추상 메서드를 추가하는 예제를 작성해보자.  
{% highlight java %}
enum Direction={
    East(1), South(5), North(-1), West(10);
    private final int value; //int 값을 저장할 인스턴스 변수
    Direction(int value) {
        this.value=value;
    }
}
{% endhighlight %}  
위와 같이 각 상수의 값을 불연속적인 임의의 값으로 변경할 때엔 인스턴스 변수와 생성자를 꼭 작성해주어야 한다. Direction이 간소화된 클래스라는 것을 인지하고 본다면 이해할 수 있는 코드일 것이다.  
이제 추상 메서드를 하나 추가해보자.  
{% highlight java %}
enum Direction={
    East(1) { 
        int time(int speed) {return value/speed;}
    }, 
    South(5) { 
        int time(int speed) {return value/speed;}
    }, 
    North(-1) { 
        int time(int speed) {return value/speed;}
    }, 
    West(10) { 
        int time(int speed) {return value/speed;}
    };
    protected final int value; //protected로 해야 각 상수에서 접근 가능
    abstract int time(int speed);
    Direction(int value) {
        this.value=value;
    }
}  
{% endhighlight %}  
위와 같이 추상 메서드를 추가한다면 각 상수에서 해당 추상 메서드를 구현해주어야 한다. 각 상수는 해당 열거형의 객체이기 때문이다.  

# 애너테이션  
애너테이션이란 프로그래머가 **컴파일러에게 보내는 메세지**이다.  
자신이 이러이러한 의도를 가지고 코드를 작성했다는 사실을 컴파일러에게 알림으로써 원래는 오류를 잡아내지 못하고 정상적으로 컴파일 될 코드를 에러를 도출하도록 할 수 있다. 자세한 사항은 다음에 작성하도록 하겠다.