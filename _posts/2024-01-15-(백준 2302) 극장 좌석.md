---
title: "(백준 2302번) 극장 좌석"
layout: post
date: 2024-01-15 16:01
tag:
- 코테
- c++
description: 백준 2302번 문제
---

# 문제 설명
---
어떤 극장의 좌석은 한 줄로 되어 있으며 왼쪽부터 차례대로 1번부터 N번까지 번호가 매겨져 있다. 공연을 보러 온 사람들은 자기의 입장권에 표시되어 있는 좌석에 앉아야 한다. 예를 들어서, 입장권에 5번이 쓰여 있으면 5번 좌석에 앉아야 한다. 단, 자기의 바로 왼쪽 좌석 또는 바로 오른쪽 좌석으로는 자리를 옮길 수 있다. 예를 들어서, 7번 입장권을 가진 사람은 7번 좌석은 물론이고, 6번 좌석이나 8번 좌석에도 앉을 수 있다. 그러나 5번 좌석이나 9번 좌석에는 앉을 수 없다.

그런데 이 극장에는 “VIP 회원”들이 있다. 이 사람들은 반드시 자기 좌석에만 앉아야 하며 옆 좌석으로 자리를 옮길 수 없다.

오늘 공연은 입장권이 매진되어 1번 좌석부터 N번 좌석까지 모든 좌석이 다 팔렸다. VIP 회원들의 좌석 번호들이 주어졌을 때, 사람들이 좌석에 앉는 서로 다른 방법의 가짓수를 구하는 프로그램을 작성하시오.

예를 들어서, 그림과 같이 좌석이 9개이고, 4번 좌석과 7번 좌석이 VIP석인 경우에 <123456789>는 물론 가능한 배치이다. 또한 <213465789> 와 <132465798> 도 가능한 배치이다. 그러나 <312456789> 와 <123546789> 는 허용되지 않는 배치 방법이다.

![img](/assets/img/upload.acmicpc4.avif)

  
## 입력
---
첫째 줄에는 좌석의 개수 N이 입력된다. N은 1 이상 40 이하이다. 둘째 줄에는 고정석의 개수 M이 입력된다. M은 0 이상 N 이하이다. 다음 M 개의 줄에는 고정석의 번호가 작은 수부터 큰 수의 순서로 한 줄에 하나씩 입력된다.  

## 출력
---
주어진 조건을 만족하면서 사람들이 좌석에 앉을 수 있는 방법의 가짓수를 출력한다. 방법의 가짓수는 2,000,000,000을 넘지 않는다. (2,000,000,000 < 231-1)

# 문제 풀이  
---
관찰이 중요한 다이나믹 프로그래밍 문제이다. 문제를 잘 읽어보면 우리는 vip 좌석을 경계로 나누어진 좌석의 경우의 수들을 곱해야 한다는 것을 알 수 있다. 그렇다면 우리는 좌석이 n개일 때의 경우의 수를 각각 구해야 하는데, 좌석이 2개일때, 3개일때 등을 하나씩 직접 구하다보면 좌석이 n개일 때 좌석배치의 경우의 수는 n-1개일 때의 경우의 수 + n-2개일 때의 경우의 수 임을 알 수 있고 다이나믹 프로그래밍을 활용하여 나머지 값들을 모두 구할 수 있다. dp 배열을 채운 후 vip 좌석의 배치에 맞게 경우의 수들을 곱해주면 해결할 수 있다.

# 코드
---
{% highlight c++ %}
#include <iostream>
#include <bits/stdc++.h>

using namespace std;

int main() {
    cin.tie(0);
    ios::sync_with_stdio(0);
    int n, m;
    cin >> n >> m;
    int dp[45];
    dp[0]=1;
    dp[1]=1; dp[2]=2;
    dp[3]=3; dp[4]=5;
    for(int i=5; i<45; i++) {
        dp[i]=dp[i-1]+dp[i-2];
    }//dp 배열을 채워준다
    long long ans=1; int cur=1;
    for(int i=0; i<m; i++) {
        int vip; cin >> vip;
        int tmp=vip-cur;
        ans*=dp[tmp]; cur=vip+1;
    }//vip 좌석으로 구분된 경우의 수들을 곱해줌
    int tmp=n+1-cur;
    ans*=dp[tmp];
    cout << ans;
}
{% endhighlight %}